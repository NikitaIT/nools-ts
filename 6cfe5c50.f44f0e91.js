(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{116:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d}));var o=t(0),r=t.n(o);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),p=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=p(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},b=r.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(t),b=o,d=u["".concat(s,".").concat(b)]||u[b]||m[b]||i;return t?r.a.createElement(d,a(a({ref:n},c),{},{components:t})):r.a.createElement(d,a({ref:n},c))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=b;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var c=2;c<i;c++)s[c]=t[c];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"},79:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return a})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return p}));var o=t(2),r=t(6),i=(t(0),t(116)),s={id:"compilation",title:"Compilation"},a={unversionedId:"compilation",id:"version-4.0.0-alpha/compilation",isDocsHomePage:!1,title:"Compilation",description:"Nools can also be used in the browser. The only difference is that you cannot pass a file location to the compile method instead you must provide the source.",source:"@site/versioned_docs\\version-4.0.0-alpha\\compilation.md",permalink:"/nools-ts/docs/compilation",editUrl:"https://github.com/nikitait/nools-ts/edit/master/doc-website/versioned_docs/version-4.0.0-alpha/compilation.md",version:"4.0.0-alpha",sidebar:"version-4.0.0-alpha/docs",previous:{title:"Disposing",permalink:"/nools-ts/docs/disposing"},next:{title:"Examples",permalink:"/nools-ts/docs/examples"}},l=[{value:"Browser Example",id:"browser-example",children:[]},{value:"Using a compiled dsl.",id:"using-a-compiled-dsl",children:[{value:"RequireJS examples",id:"requirejs-examples",children:[]}]}],c={rightToc:l};function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Nools")," can also be used in the browser. The only difference is that you cannot pass a file location to the compile method instead you must provide the source."),Object(i.b)("p",null,"Nools is compatible with amd(requirejs) and can also be used in a standard script tag."),Object(i.b)("h2",{id:"browser-example"},"Browser Example"),Object(i.b)("p",null,"In this example we compile rules definitions inlined in a script tag."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-html"}),'<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/nools-ts"><\/script>\n<script type="text/nools" id="simple">\ndefine Message {\n    message : "",\n    constructor : function (message) {\n        this.text = message;\n    }\n}\n\nrule Hello {\n    when {\n        m : Message m.text =~ /^hello\\sworld$/\n    }\n    then {\n        modify(m, function(){\n            this.text += " goodbye";\n        });\n    }\n}\n\nrule Goodbye {\n    when {\n        m : Message m.text =~ /.*goodbye$/\n    }\n    then {\n        document.getElementById("output").innerHTML += m.text + "</br>";\n    }\n}\n<\/script>\n<script type="text/javascript">\n    function init() {\n       //get the source\n       var source = document.getElementById("simple").innerHTML;\n       //compile the source. The name option is required if compiling directly.\n       var flow = nools.compile(source, {name: "simple"}),\n                Message = flow.getDefined("message"),\n                session = flow.getSession();\n        //assert your different messages\n        session.assert(new Message("goodbye"));\n        session.assert(new Message("hello world"));\n        session.match();\n    }\n<\/script>\n')),Object(i.b)("h2",{id:"using-a-compiled-dsl"},"Using a compiled dsl."),Object(i.b)("p",null,"You may also use the ",Object(i.b)("inlineCode",{parentName:"p"},"nools")," executable to compile source into a browser friendly format skipping the need for compiling each time."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{}),"nools compile ./my/rules.nools > ./compiled.js\n")),Object(i.b)("p",null,"To use the flow require the compile version either through a script tag, ",Object(i.b)("inlineCode",{parentName:"p"},"amd/requirejs"),", or ",Object(i.b)("inlineCode",{parentName:"p"},"commonjs")," require."),Object(i.b)("p",null,"If you import the flow using a script tag you can get a reference to the flow by using ",Object(i.b)("inlineCode",{parentName:"p"},"nools.getFlow"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{}),'nools.getFlow("rules");\n')),Object(i.b)("p",null,'You may also specify the name of the flow when compiling, it defaults to the name of the nools file less ".nools"'),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{}),'nools compile -n "my rules" ./my/rules.nools\n')),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{}),'nools.getFlow("my rules");\n')),Object(i.b)("p",null,"If you are using requirejs or nools must be required using something other than ",Object(i.b)("inlineCode",{parentName:"p"},'require("nools")')," then you can specify a location of the nools source."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{}),'nools compile -nl "./location/to/nools" ./my/rules.nools\n')),Object(i.b)("h3",{id:"requirejs-examples"},"RequireJS examples"),Object(i.b)("p",null,"Examples of using nools with require js are located in the ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"./examples"}),"examples directory"),"."))}p.isMDXComponent=!0}}]);